import{S as Q,i as U,s as V,e as _,t as T,c as v,a as y,b as k,d as w,f as d,m as j,l as D,g as m,h as g,j as C,k as O,n as N,I as S,o as q,C as X,p as Y,W as Z,q as x,r as ee,u as te}from"./vendor.5a46b57e.js";const ne=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}};ne();const le=a=>new Promise(e=>setTimeout(e,a));function z(a){let e,n,o,t,s,l,r,i,c,f,u,$,L,F;t=new S({props:{icon:"cil:folder-open",inline:!0}}),l=new S({props:{icon:"akar-icons:arrow-right",inline:!0}}),i=new S({props:{icon:"mdi:code-json",inline:!0}});let p=a[0]&&B();return{c(){e=_("div"),n=_("h2"),o=T("folder2json "),v(t.$$.fragment),s=y(),v(l.$$.fragment),r=y(),v(i.$$.fragment),c=y(),p&&p.c(),f=y(),u=_("button"),u.textContent="Open a Folder",k(n,"class","svelte-1c9b7bl"),k(e,"class","f2j-open svelte-1c9b7bl")},m(b,h){w(b,e,h),d(e,n),d(n,o),j(t,n,null),d(n,s),j(l,n,null),d(n,r),j(i,n,null),d(e,c),p&&p.m(e,null),d(e,f),d(e,u),$=!0,L||(F=D(u,"click",a[5]),L=!0)},p(b,h){b[0]?p?h&1&&m(p,1):(p=B(),p.c(),m(p,1),p.m(e,f)):p&&(q(),g(p,1,1,()=>{p=null}),N())},i(b){$||(m(t.$$.fragment,b),m(l.$$.fragment,b),m(i.$$.fragment,b),m(p),$=!0)},o(b){g(t.$$.fragment,b),g(l.$$.fragment,b),g(i.$$.fragment,b),g(p),$=!1},d(b){b&&C(e),O(t),O(l),O(i),p&&p.d(),L=!1,F()}}}function B(a){let e,n,o,t;return o=new S({props:{icon:"eos-icons:loading",inline:!0}}),{c(){e=_("div"),n=T("Loading "),v(o.$$.fragment),k(e,"class","f2j-open__loading svelte-1c9b7bl")},m(s,l){w(s,e,l),d(e,n),j(o,e,null),t=!0},i(s){t||(m(o.$$.fragment,s),t=!0)},o(s){g(o.$$.fragment,s),t=!1},d(s){s&&C(e),O(o)}}}function K(a){let e,n,o,t,s,l,r,i,c;return t=new X({props:{text:a[2],$$slots:{default:[oe,({copy:f})=>({14:f}),({copy:f})=>f?16384:0]},$$scope:{ctx:a}}}),t.$on("copy",a[7]),t.$on("fail",a[8]),{c(){e=_("div"),n=_("p"),n.textContent="json object output in browser console",o=y(),v(t.$$.fragment),s=y(),l=_("button"),l.textContent="Reset",k(n,"class","svelte-1c9b7bl"),k(e,"class","f2j-json-actions svelte-1c9b7bl")},m(f,u){w(f,e,u),d(e,n),d(e,o),j(t,e,null),d(e,s),d(e,l),r=!0,i||(c=D(l,"click",a[6]),i=!0)},p(f,u){const $={};u&4&&($.text=f[2]),u&49168&&($.$$scope={dirty:u,ctx:f}),t.$set($)},i(f){r||(m(t.$$.fragment,f),r=!0)},o(f){g(t.$$.fragment,f),r=!1},d(f){f&&C(e),O(t),i=!1,c()}}}function M(a){let e,n;return e=new S({props:{icon:"bi:check-lg",inline:!0}}),{c(){v(e.$$.fragment)},m(o,t){j(e,o,t),n=!0},i(o){n||(m(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function oe(a){let e,n,o,t,s,l=a[4]&&M();return{c(){e=_("button"),n=T(`Copy dir list
					`),l&&l.c()},m(r,i){w(r,e,i),d(e,n),l&&l.m(e,null),o=!0,t||(s=D(e,"click",function(){Y(a[14])&&a[14].apply(this,arguments)}),t=!0)},p(r,i){a=r,a[4]?l?i&16&&m(l,1):(l=M(),l.c(),m(l,1),l.m(e,null)):l&&(q(),g(l,1,1,()=>{l=null}),N())},i(r){o||(m(l),o=!0)},o(r){g(l),o=!1},d(r){r&&C(e),l&&l.d(),t=!1,s()}}}function W(a){let e,n,o;return{c(){e=_("div"),n=_("textarea"),n.readOnly=!0,n.value=o=`
				`+a[2]+`
			`,k(n,"class","svelte-1c9b7bl"),k(e,"class","f2j-dir-list svelte-1c9b7bl")},m(t,s){w(t,e,s),d(e,n)},p(t,s){s&4&&o!==(o=`
				`+t[2]+`
			`)&&(n.value=o)},d(t){t&&C(e)}}}function se(a){let e,n,o,t,s,l,r=!a[3]&&z(a),i=a[3]&&K(a),c=a[3]&&W(a);return{c(){e=_("main"),r&&r.c(),n=y(),i&&i.c(),o=y(),t=_("div"),s=y(),c&&c.c(),k(t,"class","f2j-json-container svelte-1c9b7bl")},m(f,u){w(f,e,u),r&&r.m(e,null),d(e,n),i&&i.m(e,null),d(e,o),d(e,t),a[9](t),d(e,s),c&&c.m(e,null),l=!0},p(f,[u]){f[3]?r&&(q(),g(r,1,1,()=>{r=null}),N()):r?(r.p(f,u),u&8&&m(r,1)):(r=z(f),r.c(),m(r,1),r.m(e,n)),f[3]?i?(i.p(f,u),u&8&&m(i,1)):(i=K(f),i.c(),m(i,1),i.m(e,o)):i&&(q(),g(i,1,1,()=>{i=null}),N()),f[3]?c?c.p(f,u):(c=W(f),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(f){l||(m(r),m(i),l=!0)},o(f){g(r),g(i),l=!1},d(f){f&&C(e),r&&r.d(),i&&i.d(),a[9](null),c&&c.d()}}}function re(a,e,n){let o,t,s,l,r,i=!1;const c=async h=>{n(0,o=!0);const A=(await Z({recursive:!0})).map(I=>I.webkitRelativePath);f(A)},f=h=>{const P=x(h,"/");n(2,l=P.join(`
`)),s={},P.forEach(A=>{let I=A.split("/"),G=I.pop();I.reduce((E,J,H)=>{var R;return E[J]=I.length-H-1?E[J]||{}:(R=E[J]||[])==null?void 0:R.concat([G])},s)}),u(s),$()},u=h=>{const P=new ee(h,10,{theme:"dark",animateOpen:!0,animateClose:!0,useToJSON:!0});t.appendChild(P.render()),n(0,o=!1),n(3,r=!0)},$=()=>{console.log("%cfolder2json:","background: unset; color: white; font-weight: bold; font-size: 1.5em;"),console.log(s)},L=()=>{s=null,n(0,o=!1),n(3,r=!1),n(4,i=!1),t.removeChild(t.firstChild)},F=async()=>{n(4,i=!0),await le(1e3),n(4,i=!1)},p=()=>alert("Failed to copy!");function b(h){te[h?"unshift":"push"](()=>{t=h,n(1,t)})}return[o,t,l,r,i,c,L,F,p,b]}class ie extends Q{constructor(e){super();U(this,e,re,se,V,{})}}new ie({target:document.getElementById("app")});
